{"ast":null,"code":"import _regeneratorRuntime from\"/home/nxtwave/reactjs/coding-practices/jobbyApp/node_modules/.pnpm/@babel/runtime@7.24.5/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/nxtwave/reactjs/coding-practices/jobbyApp/node_modules/.pnpm/@babel/runtime@7.24.5/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/nxtwave/reactjs/coding-practices/jobbyApp/node_modules/.pnpm/@babel/runtime@7.24.5/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/nxtwave/reactjs/coding-practices/jobbyApp/node_modules/.pnpm/@babel/runtime@7.24.5/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _callSuper from\"/home/nxtwave/reactjs/coding-practices/jobbyApp/node_modules/.pnpm/@babel/runtime@7.24.5/node_modules/@babel/runtime/helpers/esm/callSuper.js\";import _inherits from\"/home/nxtwave/reactjs/coding-practices/jobbyApp/node_modules/.pnpm/@babel/runtime@7.24.5/node_modules/@babel/runtime/helpers/esm/inherits.js\";import{Component}from'react';import Loader from'react-loader-spinner';import Cookies from'js-cookie';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var apiStatusConstants={initial:'INITIAL',success:'SUCCESS',failure:'FAILURE',inProgress:'IN_PROGRESS'};var ProfileCard=/*#__PURE__*/function(_Component){function ProfileCard(){var _this;_classCallCheck(this,ProfileCard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_callSuper(this,ProfileCard,[].concat(args));_this.state={profileData:[],apiStatus:apiStatusConstants.initial};_this.getProfile=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var token,apiUrl,options,response,data,profileData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this.setState({apiStatus:apiStatusConstants.inProgress});token=Cookies.get('jwt_token');apiUrl='https://apis.ccbp.in/profile';options={headers:{Authorization:\"Bearer \".concat(token)},method:'GET'};_context.next=6;return fetch(apiUrl,options);case 6:response=_context.sent;if(!(response.ok===true)){_context.next=15;break;}_context.next=10;return response.json();case 10:data=_context.sent;profileData={name:data.profile_details.name,profileImageUrl:data.profile_details.profile_image_url,shortBio:data.profile_details.short_bio};_this.setState({apiStatus:apiStatusConstants.success,profileData:profileData});_context.next=16;break;case 15:_this.setState({apiStatus:apiStatusConstants.failure});case 16:case\"end\":return _context.stop();}},_callee);}));_this.renderProfileView=function(){var profileData=_this.state.profileData;var name=profileData.name,profileImageUrl=profileData.profileImageUrl,shortBio=profileData.shortBio;return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-success-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:profileImageUrl,alt:\"profile\",className:\"profile-img\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"profile-heading\",children:name}),/*#__PURE__*/_jsx(\"p\",{className:\"profile-bio\",children:shortBio})]});};_this.renderFailureView=function(){return/*#__PURE__*/_jsx(\"div\",{className:\"profile-error-view-container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",id:\"button\",className:\"profile-failure-button\",onClick:_this.getProfile,children:\"Retry\"})});};_this.renderLoadingView=function(){return/*#__PURE__*/_jsx(\"div\",{className:\"profile-loader-container \",id:\"loader\",children:/*#__PURE__*/_jsx(Loader,{type:\"ThreeDots\",color:\"#ffffff\",height:\"50\",width:\"50\"})});};return _this;}_inherits(ProfileCard,_Component);return _createClass(ProfileCard,[{key:\"componentDidMount\",value:function componentDidMount(){this.getProfile();}},{key:\"render\",value:function render(){var apiStatus=this.state.apiStatus;switch(apiStatus){case apiStatusConstants.success:return this.renderProfileView();case apiStatusConstants.failure:return this.renderFailureView();case apiStatusConstants.inProgress:return this.renderLoadingView();default:return null;}}}]);}(Component);export default ProfileCard;","map":{"version":3,"names":["Component","Loader","Cookies","jsx","_jsx","jsxs","_jsxs","apiStatusConstants","initial","success","failure","inProgress","ProfileCard","_Component","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","state","profileData","apiStatus","getProfile","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","apiUrl","options","response","data","wrap","_callee$","_context","prev","next","setState","get","headers","Authorization","method","fetch","sent","ok","json","name","profile_details","profileImageUrl","profile_image_url","shortBio","short_bio","stop","renderProfileView","className","children","src","alt","renderFailureView","type","id","onClick","renderLoadingView","color","height","width","_inherits","_createClass","key","value","componentDidMount","render"],"sources":["/home/nxtwave/reactjs/coding-practices/jobbyApp/src/components/ProfileDetails/index.js"],"sourcesContent":["import {Component} from 'react'\nimport Loader from 'react-loader-spinner'\nimport Cookies from 'js-cookie'\nimport './index.css'\n\nconst apiStatusConstants = {\n  initial: 'INITIAL',\n  success: 'SUCCESS',\n  failure: 'FAILURE',\n  inProgress: 'IN_PROGRESS',\n}\n\nclass ProfileCard extends Component {\n  state = {\n    profileData: [],\n    apiStatus: apiStatusConstants.initial,\n  }\n\n  componentDidMount() {\n    this.getProfile()\n  }\n\n  getProfile = async () => {\n    this.setState({apiStatus: apiStatusConstants.inProgress})\n    const token = Cookies.get('jwt_token')\n    const apiUrl = 'https://apis.ccbp.in/profile'\n    const options = {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n      method: 'GET',\n    }\n    const response = await fetch(apiUrl, options)\n    if (response.ok === true) {\n      const data = await response.json()\n      const profileData = {\n        name: data.profile_details.name,\n        profileImageUrl: data.profile_details.profile_image_url,\n        shortBio: data.profile_details.short_bio,\n      }\n      this.setState({apiStatus: apiStatusConstants.success, profileData})\n    } else {\n      this.setState({apiStatus: apiStatusConstants.failure})\n    }\n  }\n\n  renderProfileView = () => {\n    const {profileData} = this.state\n    const {name, profileImageUrl, shortBio} = profileData\n    return (\n      <div className=\"profile-success-container\">\n        <img src={profileImageUrl} alt=\"profile\" className=\"profile-img\" />\n        <h1 className=\"profile-heading\">{name}</h1>\n        <p className=\"profile-bio\">{shortBio}</p>\n      </div>\n    )\n  }\n\n  renderFailureView = () => (\n    <div className=\"profile-error-view-container\">\n      <button\n        type=\"button\"\n        id=\"button\"\n        className=\"profile-failure-button\"\n        onClick={this.getProfile}\n      >\n        Retry\n      </button>\n    </div>\n  )\n\n  renderLoadingView = () => (\n    <div className=\"profile-loader-container \" id=\"loader\">\n      <Loader type=\"ThreeDots\" color=\"#ffffff\" height=\"50\" width=\"50\" />\n    </div>\n  )\n\n  render() {\n    const {apiStatus} = this.state\n\n    switch (apiStatus) {\n      case apiStatusConstants.success:\n        return this.renderProfileView()\n      case apiStatusConstants.failure:\n        return this.renderFailureView()\n      case apiStatusConstants.inProgress:\n        return this.renderLoadingView()\n      default:\n        return null\n    }\n  }\n}\n\nexport default ProfileCard\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}