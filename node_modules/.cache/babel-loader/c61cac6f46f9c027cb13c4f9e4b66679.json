{"ast":null,"code":"import _regeneratorRuntime from\"/home/nxtwave/reactjs/coding-practices/jobbyApp/node_modules/.pnpm/@babel/runtime@7.24.5/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/nxtwave/reactjs/coding-practices/jobbyApp/node_modules/.pnpm/@babel/runtime@7.24.5/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/nxtwave/reactjs/coding-practices/jobbyApp/node_modules/.pnpm/@babel/runtime@7.24.5/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/nxtwave/reactjs/coding-practices/jobbyApp/node_modules/.pnpm/@babel/runtime@7.24.5/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _callSuper from\"/home/nxtwave/reactjs/coding-practices/jobbyApp/node_modules/.pnpm/@babel/runtime@7.24.5/node_modules/@babel/runtime/helpers/esm/callSuper.js\";import _inherits from\"/home/nxtwave/reactjs/coding-practices/jobbyApp/node_modules/.pnpm/@babel/runtime@7.24.5/node_modules/@babel/runtime/helpers/esm/inherits.js\";import{Component}from'react';import{Redirect}from'react-router-dom';import Cookies from'js-cookie';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_callSuper(this,Login,[].concat(args));_this.state={username:'',password:'',showSubmitError:false,errorMsg:''};_this.onChangeUsername=function(event){_this.setState({username:event.target.value});};_this.onChangePassword=function(event){_this.setState({password:event.target.value});};_this.onSubmitSuccess=function(jwtToken){var history=_this.props.history;Cookies.set('jwt_token',jwtToken,{expires:30});history.replace('/');};_this.onSubmitFailure=function(errorMsg){_this.setState({errorMsg:errorMsg,showSubmitError:true});};_this.submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _this$state,username,password,userDetails,apiUrl,options,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_this$state=_this.state,username=_this$state.username,password=_this$state.password;userDetails={username:username,password:password};apiUrl='https://apis.ccbp.in/login';options={method:'POST',body:JSON.stringify(userDetails)};_context.next=7;return fetch(apiUrl,options);case 7:response=_context.sent;_context.next=10;return response.json();case 10:data=_context.sent;if(response.ok===true){_this.onSubmitSuccess(data.jwt_token);}else{_this.onSubmitFailure(data.error_msg);}case 12:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_inherits(Login,_Component);return _createClass(Login,[{key:\"render\",value:function render(){var _this$state2=this.state,username=_this$state2.username,password=_this$state2.password,showSubmitError=_this$state2.showSubmitError,errorMsg=_this$state2.errorMsg;var token=Cookies.get('jwt_token');if(token!==undefined){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-container\",onSubmit:this.submitForm,children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://assets.ccbp.in/frontend/react-js/logo-img.png\",className:\"login-website-logo\",alt:\"website logo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",htmlFor:\"username\",children:\"USERNAME\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",value:username,className:\"username-input-field\",onChange:this.onChangeUsername,placeholder:\"Username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",htmlFor:\"password\",children:\"PASSWORD\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:password,className:\"password-input-field\",onChange:this.onChangePassword,placeholder:\"Password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-button\",children:\"Login\"}),showSubmitError&&/*#__PURE__*/_jsxs(\"p\",{className:\"error-message\",children:[\"*\",errorMsg]})]})});}}]);}(Component);export default Login;","map":{"version":3,"names":["Component","Redirect","Cookies","jsx","_jsx","jsxs","_jsxs","Login","_Component","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","state","username","password","showSubmitError","errorMsg","onChangeUsername","event","setState","target","value","onChangePassword","onSubmitSuccess","jwtToken","history","props","set","expires","replace","onSubmitFailure","submitForm","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this$state","userDetails","apiUrl","options","response","data","wrap","_callee$","_context","prev","next","preventDefault","method","body","JSON","stringify","fetch","sent","json","ok","jwt_token","error_msg","stop","_x","apply","_inherits","_createClass","key","render","_this$state2","token","get","undefined","to","className","children","onSubmit","src","alt","htmlFor","type","id","onChange","placeholder"],"sources":["/home/nxtwave/reactjs/coding-practices/jobbyApp/src/components/Login/index.js"],"sourcesContent":["import {Component} from 'react'\nimport {Redirect} from 'react-router-dom'\nimport Cookies from 'js-cookie'\nimport './index.css'\n\nclass Login extends Component {\n  state = {username: '', password: '', showSubmitError: false, errorMsg: ''}\n\n  onChangeUsername = event => {\n    this.setState({username: event.target.value})\n  }\n\n  onChangePassword = event => {\n    this.setState({password: event.target.value})\n  }\n\n  onSubmitSuccess = jwtToken => {\n    const {history} = this.props\n    Cookies.set('jwt_token', jwtToken, {\n      expires: 30,\n    })\n    history.replace('/')\n  }\n\n  onSubmitFailure = errorMsg => {\n    this.setState({errorMsg, showSubmitError: true})\n  }\n\n  submitForm = async event => {\n    event.preventDefault()\n    const {username, password} = this.state\n    const userDetails = {username, password}\n    const apiUrl = 'https://apis.ccbp.in/login'\n    const options = {\n      method: 'POST',\n      body: JSON.stringify(userDetails),\n    }\n    const response = await fetch(apiUrl, options)\n    const data = await response.json()\n    if (response.ok === true) {\n      this.onSubmitSuccess(data.jwt_token)\n    } else {\n      this.onSubmitFailure(data.error_msg)\n    }\n  }\n\n  render() {\n    const {username, password, showSubmitError, errorMsg} = this.state\n    const token = Cookies.get('jwt_token')\n    if (token !== undefined) {\n      return <Redirect to=\"/\" />\n    }\n    return (\n      <div className=\"login-container\">\n        <form className=\"form-container\" onSubmit={this.submitForm}>\n          <img\n            src=\"https://assets.ccbp.in/frontend/react-js/logo-img.png\"\n            className=\"login-website-logo\"\n            alt=\"website logo\"\n          />\n          <div className=\"input-container\">\n            <label className=\"input-label\" htmlFor=\"username\">\n              USERNAME\n            </label>\n            <input\n              type=\"text\"\n              id=\"username\"\n              value={username}\n              className=\"username-input-field\"\n              onChange={this.onChangeUsername}\n              placeholder=\"Username\"\n            />\n          </div>\n          <div className=\"input-container\">\n            <label className=\"input-label\" htmlFor=\"password\">\n              PASSWORD\n            </label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              value={password}\n              className=\"password-input-field\"\n              onChange={this.onChangePassword}\n              placeholder=\"Password\"\n            />\n          </div>\n          <button type=\"submit\" className=\"login-button\">\n            Login\n          </button>\n          {showSubmitError && <p className=\"error-message\">*{errorMsg}</p>}\n        </form>\n      </div>\n    )\n  }\n}\nexport default Login\n"],"mappings":"ghCAAA,OAAQA,SAAS,KAAO,OAAO,CAC/B,OAAQC,QAAQ,KAAO,kBAAkB,CACzC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,aAAa,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,4BAEd,CAAAC,KAAK,uBAAAC,UAAA,WAAAD,MAAA,MAAAE,KAAA,CAAAC,eAAA,MAAAH,KAAA,UAAAI,IAAA,CAAAC,SAAA,CAAAC,MAAA,CAAAC,IAAA,KAAAC,KAAA,CAAAJ,IAAA,EAAAK,IAAA,GAAAA,IAAA,CAAAL,IAAA,CAAAK,IAAA,IAAAF,IAAA,CAAAE,IAAA,EAAAJ,SAAA,CAAAI,IAAA,GAAAP,KAAA,CAAAQ,UAAA,MAAAV,KAAA,IAAAW,MAAA,CAAAJ,IAAA,GAAAL,KAAA,CACTU,KAAK,CAAG,CAACC,QAAQ,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAE,CAAEC,eAAe,CAAE,KAAK,CAAEC,QAAQ,CAAE,EAAE,CAAC,CAAAd,KAAA,CAE1Ee,gBAAgB,CAAG,SAAAC,KAAK,CAAI,CAC1BhB,KAAA,CAAKiB,QAAQ,CAAC,CAACN,QAAQ,CAAEK,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAC/C,CAAC,CAAAnB,KAAA,CAEDoB,gBAAgB,CAAG,SAAAJ,KAAK,CAAI,CAC1BhB,KAAA,CAAKiB,QAAQ,CAAC,CAACL,QAAQ,CAAEI,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAC/C,CAAC,CAAAnB,KAAA,CAEDqB,eAAe,CAAG,SAAAC,QAAQ,CAAI,CAC5B,GAAO,CAAAC,OAAO,CAAIvB,KAAA,CAAKwB,KAAK,CAArBD,OAAO,CACd9B,OAAO,CAACgC,GAAG,CAAC,WAAW,CAAEH,QAAQ,CAAE,CACjCI,OAAO,CAAE,EACX,CAAC,CAAC,CACFH,OAAO,CAACI,OAAO,CAAC,GAAG,CAAC,CACtB,CAAC,CAAA3B,KAAA,CAED4B,eAAe,CAAG,SAAAd,QAAQ,CAAI,CAC5Bd,KAAA,CAAKiB,QAAQ,CAAC,CAACH,QAAQ,CAARA,QAAQ,CAAED,eAAe,CAAE,IAAI,CAAC,CAAC,CAClD,CAAC,CAAAb,KAAA,CAED6B,UAAU,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAMlB,KAAK,MAAAmB,WAAA,CAAAxB,QAAA,CAAAC,QAAA,CAAAwB,WAAA,CAAAC,MAAA,CAAAC,OAAA,CAAAC,QAAA,CAAAC,IAAA,QAAAR,mBAAA,GAAAS,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACtB7B,KAAK,CAAC8B,cAAc,CAAC,CAAC,CAAAX,WAAA,CACOnC,KAAA,CAAKU,KAAK,CAAhCC,QAAQ,CAAAwB,WAAA,CAARxB,QAAQ,CAAEC,QAAQ,CAAAuB,WAAA,CAARvB,QAAQ,CACnBwB,WAAW,CAAG,CAACzB,QAAQ,CAARA,QAAQ,CAAEC,QAAQ,CAARA,QAAQ,CAAC,CAClCyB,MAAM,CAAG,4BAA4B,CACrCC,OAAO,CAAG,CACdS,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACd,WAAW,CAClC,CAAC,CAAAO,QAAA,CAAAE,IAAA,SACsB,CAAAM,KAAK,CAACd,MAAM,CAAEC,OAAO,CAAC,QAAvCC,QAAQ,CAAAI,QAAA,CAAAS,IAAA,CAAAT,QAAA,CAAAE,IAAA,UACK,CAAAN,QAAQ,CAACc,IAAI,CAAC,CAAC,SAA5Bb,IAAI,CAAAG,QAAA,CAAAS,IAAA,CACV,GAAIb,QAAQ,CAACe,EAAE,GAAK,IAAI,CAAE,CACxBtD,KAAA,CAAKqB,eAAe,CAACmB,IAAI,CAACe,SAAS,CAAC,CACtC,CAAC,IAAM,CACLvD,KAAA,CAAK4B,eAAe,CAACY,IAAI,CAACgB,SAAS,CAAC,CACtC,CAAC,yBAAAb,QAAA,CAAAc,IAAA,MAAAvB,OAAA,GACF,mBAAAwB,EAAA,SAAA5B,IAAA,CAAA6B,KAAA,MAAAxD,SAAA,eAAAH,KAAA,EAAA4D,SAAA,CAAA9D,KAAA,CAAAC,UAAA,SAAA8D,YAAA,CAAA/D,KAAA,GAAAgE,GAAA,UAAA3C,KAAA,CAED,SAAA4C,OAAA,CAAS,CACP,IAAAC,YAAA,CAAwD,IAAI,CAACtD,KAAK,CAA3DC,QAAQ,CAAAqD,YAAA,CAARrD,QAAQ,CAAEC,QAAQ,CAAAoD,YAAA,CAARpD,QAAQ,CAAEC,eAAe,CAAAmD,YAAA,CAAfnD,eAAe,CAAEC,QAAQ,CAAAkD,YAAA,CAARlD,QAAQ,CACpD,GAAM,CAAAmD,KAAK,CAAGxE,OAAO,CAACyE,GAAG,CAAC,WAAW,CAAC,CACtC,GAAID,KAAK,GAAKE,SAAS,CAAE,CACvB,mBAAOxE,IAAA,CAACH,QAAQ,EAAC4E,EAAE,CAAC,GAAG,CAAE,CAAC,CAC5B,CACA,mBACEzE,IAAA,QAAK0E,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BzE,KAAA,SAAMwE,SAAS,CAAC,gBAAgB,CAACE,QAAQ,CAAE,IAAI,CAAC1C,UAAW,CAAAyC,QAAA,eACzD3E,IAAA,QACE6E,GAAG,CAAC,uDAAuD,CAC3DH,SAAS,CAAC,oBAAoB,CAC9BI,GAAG,CAAC,cAAc,CACnB,CAAC,cACF5E,KAAA,QAAKwE,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B3E,IAAA,UAAO0E,SAAS,CAAC,aAAa,CAACK,OAAO,CAAC,UAAU,CAAAJ,QAAA,CAAC,UAElD,CAAO,CAAC,cACR3E,IAAA,UACEgF,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,UAAU,CACbzD,KAAK,CAAER,QAAS,CAChB0D,SAAS,CAAC,sBAAsB,CAChCQ,QAAQ,CAAE,IAAI,CAAC9D,gBAAiB,CAChC+D,WAAW,CAAC,UAAU,CACvB,CAAC,EACC,CAAC,cACNjF,KAAA,QAAKwE,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B3E,IAAA,UAAO0E,SAAS,CAAC,aAAa,CAACK,OAAO,CAAC,UAAU,CAAAJ,QAAA,CAAC,UAElD,CAAO,CAAC,cACR3E,IAAA,UACEgF,IAAI,CAAC,UAAU,CACfC,EAAE,CAAC,UAAU,CACbzD,KAAK,CAAEP,QAAS,CAChByD,SAAS,CAAC,sBAAsB,CAChCQ,QAAQ,CAAE,IAAI,CAACzD,gBAAiB,CAChC0D,WAAW,CAAC,UAAU,CACvB,CAAC,EACC,CAAC,cACNnF,IAAA,WAAQgF,IAAI,CAAC,QAAQ,CAACN,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,OAE/C,CAAQ,CAAC,CACRzD,eAAe,eAAIhB,KAAA,MAAGwE,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,GAAC,CAACxD,QAAQ,EAAI,CAAC,EAC5D,CAAC,CACJ,CAAC,CAEV,CAAC,MAxFiBvB,SAAS,EA0F7B,cAAe,CAAAO,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module"}